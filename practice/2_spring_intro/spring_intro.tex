\section{Introduzione a Spring AI} % (fold)
\label{sec:spring-ai-intro}

\begin{frame}[t] \frametitle{Spring AI}
    \framesubtitle{Cos'è Spring AI}
    \begin{itemize}[leftmargin=10pt,align=right]
        \onslide<1->\item[\alert{\faLightbulbO}] Framework Spring per l'integrazione con servizi AI
        \onslide<2->\item[\alert{\faLightbulbO}] Astrazione unificata per diversi provider AI (OpenAI, Azure OpenAI, Google, Anthropic)
        \onslide<3->\item[\alert{\faLightbulbO}] Supporto per chat, embedding, image generation e function calling
        \onslide<4->\item[\alert{\faLightbulbO}] Integrazione nativa con l'ecosistema Spring Boot
    \end{itemize}
    
    \vspace{1cm}
    \onslide<5->
    \begin{block}{Obiettivo}
        Semplificare l'integrazione di funzionalità AI nelle applicazioni Spring, mantenendo la flessibilità e la portabilità
    \end{block}
\end{frame}

\begin{frame}[t] \frametitle{Spring AI}
    \framesubtitle{Architettura e componenti principali}
    \begin{itemize}[leftmargin=10pt,align=right]
        \onslide<1->\item[\alert{\faCogs}] \textbf{ChatClient}: Interfaccia per conversazioni con modelli linguistici
        \onslide<2->\item[\alert{\faCogs}] \textbf{EmbeddingClient}: Gestione di embeddings per similarity search
        \onslide<3->\item[\alert{\faCogs}] \textbf{ImageClient}: Generazione e manipolazione di immagini
        \onslide<4->\item[\alert{\faCogs}] \textbf{VectorStore}: Archiviazione vettoriale per RAG (Retrieval Augmented Generation)
        \onslide<5->\item[\alert{\faCogs}] \textbf{Function Calling}: Invocazione di funzioni Java dai modelli AI
    \end{itemize}
    
    \vspace{0.5cm}
    \onslide<6->
    \begin{alertblock}{Principio fondamentale}
        Un'API, molteplici implementazioni - cambio di provider senza modifiche al codice
    \end{alertblock}
\end{frame}

\section{\faThumbsUp\ Pregi di Spring AI} % (fold)
\label{sec:spring-ai-pros}

\begin{frame}[t] \frametitle{Spring AI}
    \framesubtitle{Vantaggi principali}
    \begin{itemize}[leftmargin=10pt,align=right]
        \onslide<1->\item[\alert{\faCheckCircle}] \textbf{Astrazione unificata}: Stesso codice per provider diversi
        \onslide<2->\item[\alert{\faCheckCircle}] \textbf{Integrazione nativa}: Auto-configuration, dependency injection, properties
        \onslide<3->\item[\alert{\faCheckCircle}] \textbf{Type safety}: Strongly typed con supporto per record Java
        \onslide<4->\item[\alert{\faCheckCircle}] \textbf{Observability}: Metrics, tracing e logging integrati
        \onslide<5->\item[\alert{\faCheckCircle}] \textbf{Spring ecosystem}: Compatibility con Spring Security, Data, Cloud
        \onslide<6->\item[\alert{\faCheckCircle}] \textbf{Gestione errori}: Retry, circuit breaker, fallback mechanisms
    \end{itemize}
\end{frame}

\begin{frame}[t,fragile] \frametitle{Spring AI}
    \framesubtitle{Esempio pratico - ChatClient}
    \begin{block}{Configurazione automatica}
    \begin{lstlisting}[language=java, basicstyle=\tiny\ttfamily]
@RestController
public class ChatController {
    
    private final ChatClient chatClient;
    
    public ChatController(ChatClient.Builder chatClientBuilder) {
        this.chatClient = chatClientBuilder
            .defaultSystem("Sei un assistente utile e preciso")
            .build();
    }
    
    @PostMapping("/chat")
    public String chat(@RequestBody String message) {
        return chatClient.prompt()
            .user(message)
            .call()
            .content();
    }
}
    \end{lstlisting}
    \end{block}
    
    \onslide<2->
    \begin{alertblock}{Zero boilerplate}
        Spring AI gestisce automaticamente configurazione, serializzazione e gestione errori
    \end{alertblock}
\end{frame}

\section{\faThumbsDown\ Limiti di Spring AI} % (fold)
\label{sec:spring-ai-cons}

\begin{frame}[t] \frametitle{Spring AI}
    \framesubtitle{Svantaggi e limitazioni}
    \begin{itemize}[leftmargin=10pt,align=right]
        \onslide<1->\item[\alert{\faExclamationTriangle}] \textbf{Progetto giovane}: API ancora in evoluzione, breaking changes possibili
        \onslide<2->\item[\alert{\faExclamationTriangle}] \textbf{Astrazione limitante}: Non espone tutte le funzionalità specifiche dei provider
        \onslide<3->\item[\alert{\faExclamationTriangle}] \textbf{Dipendenza da Spring}: Vendor lock-in nell'ecosistema Spring
        \onslide<4->\item[\alert{\faExclamationTriangle}] \textbf{Performance overhead}: Livello di astrazione aggiuntivo
        \onslide<5->\item[\alert{\faExclamationTriangle}] \textbf{Documentazione}: Ancora incompleta in alcune aree
        \onslide<6->\item[\alert{\faExclamationTriangle}] \textbf{Supporto provider}: Non tutti i provider hanno le stesse funzionalità
    \end{itemize}
\end{frame}

\begin{frame}[t] \frametitle{Spring AI}
    \framesubtitle{Quando NON usare Spring AI}
    \begin{itemize}[leftmargin=10pt,align=right]
        \onslide<1->\item[\alert{\faTimesCircle}] Applicazioni \textbf{non-Spring} (overhead ingiustificato)
        \onslide<2->\item[\alert{\faTimesCircle}] Necessità di \textbf{funzionalità specifiche} di un provider
        \onslide<3->\item[\alert{\faTimesCircle}] Progetti con \textbf{performance critiche} (ogni millisecondo conta)
        \onslide<4->\item[\alert{\faTimesCircle}] Team che preferisce \textbf{controllo granulare} sulle API
        \onslide<5->\item[\alert{\faTimesCircle}] Ambienti \textbf{legacy} con vincoli di dipendenze
    \end{itemize}
    
    \vspace{1cm}
    \onslide<6->
    \begin{block}{Alternativa}
        Uso diretto delle SDK native dei provider (OpenAI Java SDK, etc.)
    \end{block}
\end{frame}
%
\section{\faWrench\ Setup progetto Spring AI} % (fold)
\label{sec:spring-ai-project-setup}
%
\begin{frame}[t,fragile] \frametitle{Progetto Spring AI}
    \framesubtitle{Obiettivo}
    \begin{itemize}[leftmargin=10pt,align=right]
        \onslide<1->\item[\alert{\faHandORight}] Inizializzare un progetto Spring con le seguenti caratteristiche:     
        \onslide<2->
        \begin{itemize}[leftmargin=10pt,align=right]
            \item[\alert{\faHandORight}] \alert{Maven} come \textit{build tool}
            \item[\alert{\faHandORight}] Spring Boot alla versione più recente \alert{non SNAPSHOT}
            \item[\alert{\faHandORight}] Linguaggio \alert{Java 21}
            \item[\alert{\faHandORight}] \textit{Group} \alert{\texttt{it.venis.ai.spring}}
            \item[\alert{\faHandORight}] \textit{Artifact} \alert{\texttt{demo}}
            \item[\alert{\faHandORight}] \alert{\texttt{jar}} \textit{packaging}
            \item[\alert{\faHandORight}] \alert{\texttt{Spring Web}} e \alert{\texttt{OpenAI}} come dipendenze
        \end{itemize}
    \end{itemize}
\end{frame}
%
\begin{frame}[t,fragile] \frametitle{Progetto Spring AI}
    \framesubtitle{Passaggi}
    \setbeamertemplate{subsection in toc}[\alertedcircled{#1}]
    \tableofcontents[sections={2}]
\end{frame}
%
\subsection{\faWrench\ Inizializzazione \textit{stub} Spring AI} % (fold)
\label{subsec:spring-ai-intro}
%
\begin{frame}[t,fragile] \frametitle{Progetto Spring AI}
    \framesubtitle{Strategie di inizializzazione}
	\vspace*{-.5cm}
    \begin{itemize}
        \onslide<1->{\item[\alertedcircled{1}] Da IDE (VSCode)}
        \onslide<2->{\item[\alertedcircled{2}] Da Spring Initializr}
    \end{itemize}
\end{frame}
%
\begin{frame}[t,fragile] \frametitle{Progetto Spring AI}
    \framesubtitle{Inizializzazione da IDE (VSCode)}
	\vspace*{-.5cm}
    {\footnotesize
    \begin{itemize}
        \only<1-2|handout:1-2>{\item[\alertedcircled{1}] Installare le estensioni VSC necessarie}
        \only<3|handout:3>{\item[\alertedcircled{2}] Aprire una nuova finestra VSC e selezionare \textbf{Create Java Project}}
        \only<4|handout:4>{\item[\alertedcircled{3}] Selezionare \textbf{Spring Boot} come tipo di progetto (\alert{NON} Maven)}
        \only<5|handout:5>{\item[\alertedcircled{4}] Selezionare \textbf{Maven project} come tipo di progetto}
        \only<6|handout:6>{\item[\alertedcircled{5}] Selezionare la versione di Boot per il progetto}
        \only<7|handout:7>{\item[\alertedcircled{6}] Selezionare \textbf{Java} come linguaggio di progetto}
        \only<8|handout:8>{\item[\alertedcircled{7}] Definire il \textit{Group ID} di riferimento del progetto}
        \only<9|handout:9>{\item[\alertedcircled{8}] Definire l'\textit{Artifact ID} di riferimento del progetto}
        \only<10|handout:10>{\item[\alertedcircled{9}] Definire la tipologia di \textit{packaging} del progetto}
        \only<11|handout:11>{\item[\alertedcircled{10}] Selezionare la versione di Java di riferimento}
        \only<12|handout:12>{\item[\alertedcircled{11}] Selezionare come prima dipendenza di progetto \textbf{Spring Web}}
        \only<13|handout:13>{\item[\alertedcircled{12}] Selezionare come seconda dipendenza di progetto \textbf{OpenAI}}
        \only<14|handout:14>{\item[\alertedcircled{13}] Continuare la creazione del progetto premendo \textbf{Enter}}
        \only<15|handout:15>{\item[\alertedcircled{14}] Navigare nel FS e selezionare la cartella padre del progetto}
        \only<16|handout:16>{\item[\alertedcircled{15}] Verificare i \textit{file} di progetto nel pannello \textbf{Explorer} (\textbf{CTRL + SHIFT + E})}
    \end{itemize}
    \vfill
    \begin{minipage}[t]{\textwidth}
		\centering
        \only<1|handout:1>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-extensions-java.png}
		    \end{figure}
        }
        \only<2|handout:2>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-extensions-spring-boot.png}
		    \end{figure}
        }
         \only<3|handout:3>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new.png}
		    \end{figure}
        }
        \only<4|handout:4>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-spring-boot.png}
		    \end{figure}
        }
        \only<5|handout:5>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-maven.png}
		    \end{figure}
        }
        \only<6|handout:6>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-spring-boot-version.png}
		    \end{figure}
        }
        \only<7|handout:7>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-java.png}
		    \end{figure}
        }
        \only<8|handout:8>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-maven-groupid.png}
		    \end{figure}
        }
        \only<9|handout:9>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-maven-artifactid.png}
		    \end{figure}
        }
        \only<10|handout:10>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-java-jar.png}
		    \end{figure}
        }
        \only<11|handout:11>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-java-version.png}
		    \end{figure}
        }
        \only<12|handout:12>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-maven-deps-spring-web.png}
		    \end{figure}
        }
        \only<13|handout:13>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-maven-deps-openai.png}
		    \end{figure}
        }
        \only<14|handout:14>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-maven-deps-done.png}
		    \end{figure}
        }
        \only<15|handout:15>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-path.png}
		    \end{figure}
        }
        \only<16|handout:16>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-done.png}
		    \end{figure}
        }  
	\end{minipage}
    }
\end{frame}
%
\begin{frame}[t,fragile] \frametitle{Progetto Spring}
    \framesubtitle{Inizializzazione da Spring Initializr}
    \vspace*{-.5cm}
    \centering
    \includegraphics[width=.9\textwidth, frame]{img/spring-initializr.png}
    \vfill
    \onslide<2->
    \begin{block}{Portale ufficiale}
        \url{https://start.spring.io/}
    \end{block}
\end{frame}
%
\subsection{\faWrench\ Verifica JRE per progetto} % (fold)
\label{subsec:spring-ai-jvm}
%
\begin{frame}[t,fragile] \frametitle{Progetto Spring AI}
    \framesubtitle{Verifica Java Runtime}
	\vspace*{-.5cm}
    {\footnotesize
    \begin{itemize}
        \only<1|handout:1>{\item[\alertedcircled{1}] Dal pannello dei comandi (\textbf{CTRL + SHIFT + P}), \textbf{Java: Configure Java Runtime}}
        \only<2|handout:2>{\item[\alertedcircled{2}] Selezionare la JDK 21 precedentemente installata}
    \end{itemize}
    \vfill
    \begin{minipage}[t]{\textwidth}
		\centering
        \only<1|handout:1>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-java-runtime.png}
		    \end{figure}
        }
        \only<2|handout:2>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-new-java-runtime-list.png}
		    \end{figure}
        }
	\end{minipage}
    }
\end{frame}
%
\subsection{\faWrench\ Esecuzione progetto} % (fold)
\label{subsec:spring-ai-compile-run}
%
\begin{frame}[t,fragile] \frametitle{Progetto Spring AI}
    \framesubtitle{Compilazione ed esecuzione}
	\vspace*{-.5cm}
    {\footnotesize
    \begin{itemize}
        \only<1|handout:1>{\item[\alertedcircled{1}] Dal pannello di \textit{debug} (\textbf{CTRL + SHIFT + D}), creare un nuovo \textit{file} \texttt{launch.json}}
        \only<2|handout:2>{\item[\alertedcircled{2}] Selezionare \textbf{Java} come tipologia di esecuzione/\textit{debug}}
        \only<3|handout:3>{\item[\alertedcircled{3}] Verificare la presenza delle due configurazioni di base}
        \only<4|handout:4>{\item[\alertedcircled{4}] Aggiungere metadati se necessario (es. \alert{variabili di ambiente})}
    \end{itemize}
    \vfill
    \begin{minipage}[t]{\textwidth}
		\centering
        \only<1|handout:1>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-run-debug.png}
		    \end{figure}
        }
        \only<2|handout:2>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-launch-json-java.png}
		    \end{figure}
        }
        \only<3|handout:3>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-launch-json.png}
		    \end{figure}
        }
        \only<4|handout:4>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-launch-json-env.png}
		    \end{figure}
        }
	\end{minipage}
    }
\end{frame}
%
\begin{frame}[t,fragile] \frametitle{Se va tutto bene\ldots}
    \framesubtitle{\ldots dovrebbe andare tutto male}
	\vspace*{-.5cm}
    {\footnotesize
    \begin{itemize}
        \only<1|handout:1>{\item[\alertedcircled{1}] Eseguendo il progetto, dovremmo ottenere una eccezione!}
        \only<2|handout:2>{\item[\alertedcircled{2}] Definiamo la chiave richiesta da Spring AI (\texttt{spring.ai.openai.api-key})}
        \only<3|handout:3>{\item[\alertedcircled{3}] Ora non dovremmo ottenere eccezioni!}
    \end{itemize}
    \vfill
    \begin{minipage}[t]{\textwidth}
		\centering
        \only<1|handout:1>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-launch-error.png}
		    \end{figure}
        }
        \only<2|handout:2>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-application-yml-api-key.png}
		    \end{figure}
        }
        \only<3|handout:3>{
		    \begin{figure}[ht]
			    \includegraphics[width=\textwidth, frame]{img/spring-vsc-demo-project-launch-done.png}
		    \end{figure}
        }
	\end{minipage}
    }
\end{frame}